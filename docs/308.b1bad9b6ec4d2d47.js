"use strict";(self.webpackChunkemployeeSystem=self.webpackChunkemployeeSystem||[]).push([[308],{6308:(E,m,s)=>{s.r(m),s.d(m,{DetailsEmployeeModule:()=>D});var p=s(177),a=s(4341),r=s(303),e=s(6276),c=s(3853);function y(l,d){if(1&l&&(e.j41(0,"div",28),e.EFF(1),e.k0s()),2&l){const t=e.XpG(2);e.R7$(1),e.SpI(" ",t.errorMessage," ")}}function g(l,d){if(1&l){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.toggleEdit())}),e.EFF(1,"Edit"),e.k0s()}}function u(l,d){if(1&l){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.saveChanges())}),e.EFF(1,"Save"),e.k0s()}}function _(l,d){if(1&l){const t=e.RV6();e.j41(0,"button",31),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.toggleEdit())}),e.EFF(1,"Cancel"),e.k0s()}}function f(l,d){if(1&l){const t=e.RV6();e.j41(0,"div",1)(1,"div",2),e.DNE(2,y,2,1,"div",3),e.j41(3,"div",4),e.nrm(4,"img",5),e.j41(5,"h2"),e.EFF(6),e.k0s()(),e.j41(7,"div",6)(8,"div",7)(9,"label",8),e.EFF(10,"Email:"),e.k0s(),e.j41(11,"input",9),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.email=o)}),e.k0s()(),e.j41(12,"div",7)(13,"label",10),e.EFF(14,"Password:"),e.k0s(),e.j41(15,"input",11),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.password=o)}),e.k0s()()(),e.j41(16,"div",6)(17,"div",7)(18,"label",12),e.EFF(19,"Address:"),e.k0s(),e.j41(20,"input",13),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.address.address=o)}),e.k0s()(),e.j41(21,"div",7)(22,"label",14),e.EFF(23,"City:"),e.k0s(),e.j41(24,"input",15),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.address.city=o)}),e.k0s()()(),e.j41(25,"div",6)(26,"div",7)(27,"label",16),e.EFF(28,"Phone Number:"),e.k0s(),e.j41(29,"input",17),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.phone=o)}),e.k0s()(),e.j41(30,"div",7)(31,"label",18),e.EFF(32,"Age:"),e.k0s(),e.j41(33,"input",19),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.age=o)}),e.k0s()()(),e.j41(34,"div",6)(35,"div",7)(36,"label",20),e.EFF(37,"Department:"),e.k0s(),e.j41(38,"input",21),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.company.department=o)}),e.k0s()(),e.j41(39,"div",7)(40,"label",22),e.EFF(41,"Title:"),e.k0s(),e.j41(42,"input",23),e.bIt("ngModelChange",function(o){e.eBV(t);const i=e.XpG();return e.Njj(i.employeeDetails.company.title=o)}),e.k0s()()(),e.j41(43,"div",24),e.DNE(44,g,2,0,"button",25),e.DNE(45,u,2,0,"button",26),e.DNE(46,_,2,0,"button",27),e.k0s()()()}if(2&l){const t=e.XpG();e.R7$(2),e.Y8G("ngIf",t.errorMessage),e.R7$(2),e.FCK("alt","",t.employeeDetails.firstName," ",t.employeeDetails.lastName,""),e.Y8G("src",t.employeeDetails.image,e.B4B),e.R7$(2),e.Lme("",t.employeeDetails.firstName," ",t.employeeDetails.lastName,""),e.R7$(5),e.Y8G("ngModel",t.employeeDetails.email)("readonly",!t.isEditable),e.R7$(4),e.Y8G("ngModel",t.employeeDetails.password)("readonly",!t.isEditable),e.R7$(5),e.Y8G("ngModel",t.employeeDetails.address.address)("readonly",!t.isEditable),e.R7$(4),e.Y8G("ngModel",t.employeeDetails.address.city)("readonly",!t.isEditable),e.R7$(5),e.Y8G("ngModel",t.employeeDetails.phone)("readonly",!t.isEditable),e.R7$(4),e.Y8G("ngModel",t.employeeDetails.age)("readonly",!t.isEditable),e.R7$(5),e.Y8G("ngModel",t.employeeDetails.company.department)("readonly",!t.isEditable),e.R7$(4),e.Y8G("ngModel",t.employeeDetails.company.title)("readonly",!t.isEditable),e.R7$(2),e.Y8G("ngIf",!t.isEditable),e.R7$(1),e.Y8G("ngIf",t.isEditable),e.R7$(1),e.Y8G("ngIf",t.isEditable)}}const h=[{path:"",component:(()=>{class l{constructor(t,n){this.route=t,this.employeesService=n,this.employeeDetails=null,this.isEditable=!1,this.errorMessage=null}ngOnInit(){const t=this.route.snapshot.paramMap.get("id");t&&this.fetchEmployeeDetails(t)}fetchEmployeeDetails(t){this.employeesService.getEmployeeDetails(t).subscribe({next:n=>{this.employeeDetails={...n,company:n.company||{name:"",title:"",department:""},address:n.address||{address:"",city:""}}},error:n=>{console.error("Failed to fetch employee details:",n),this.errorMessage="Failed to load employee details"}})}toggleEdit(){this.isEditable=!this.isEditable,this.errorMessage=null}saveChanges(){this.employeeDetails&&this.employeesService.updateEmployee(this.employeeDetails.id,{firstName:this.employeeDetails.firstName,lastName:this.employeeDetails.lastName,email:this.employeeDetails.email,password:this.employeeDetails.password,phone:this.employeeDetails.phone,age:this.employeeDetails.age,address:{address:this.employeeDetails.address.address,city:this.employeeDetails.address.city},company:{department:this.employeeDetails.company.department,title:this.employeeDetails.company.title}}).subscribe({next:n=>{this.employeeDetails={...n,company:n.company||{name:"",title:"",department:""},address:n.address||{address:"",city:""}},this.isEditable=!1,this.errorMessage=null,console.log("updated succefully ")},error:n=>{console.error("Failed to update employee:",n),this.errorMessage="Failed to update employee details"}})}static{this.\u0275fac=function(n){return new(n||l)(e.rXU(r.nX),e.rXU(c.r))}}static{this.\u0275cmp=e.VBU({type:l,selectors:[["app-details-employee"]],decls:1,vars:1,consts:[["class","d-flex justify-content-center mt-4",4,"ngIf"],[1,"d-flex","justify-content-center","mt-4"],[1,"col-md-6","my-4"],["class","alert alert-danger",4,"ngIf"],[1,"d-flex","my-2"],[1,"img-fluid",3,"src","alt"],[1,"d-flex","justify-content-between"],[1,"form-group","my-2"],["for","email",1,"mb-2"],["type","email","id","email",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","password",1,"mb-2"],["type","text","id","password",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","address",1,"mb-2"],["type","text","id","address",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","city",1,"mb-2"],["type","text","id","city",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","phone",1,"mb-2"],["type","tel","id","phone",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","age",1,"mb-2"],["type","number","id","age",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","department",1,"mb-2"],["type","text","id","department",1,"form-control",3,"ngModel","readonly","ngModelChange"],["for","title",1,"mb-2"],["type","text","id","title",1,"form-control",3,"ngModel","readonly","ngModelChange"],[1,"mt-3"],["class","editBtn btn btn-primary",3,"click",4,"ngIf"],["class","saveBtn btn btn-success",3,"click",4,"ngIf"],["class","cancelBtn btn btn-secondary ms-2",3,"click",4,"ngIf"],[1,"alert","alert-danger"],[1,"editBtn","btn","btn-primary",3,"click"],[1,"saveBtn","btn","btn-success",3,"click"],[1,"cancelBtn","btn","btn-secondary","ms-2",3,"click"]],template:function(n,o){1&n&&e.DNE(0,f,47,25,"div",0),2&n&&e.Y8G("ngIf",o.employeeDetails)},dependencies:[p.bT,a.me,a.Q0,a.BC,a.vS],styles:[".form-group[_ngcontent-%COMP%]{width:45%}h2[_ngcontent-%COMP%]{margin:auto}.d-flex[_ngcontent-%COMP%]{margin:1em 0}.editBtn[_ngcontent-%COMP%]{background-color:#f28c38;border:none;outline:none;color:#fff;border-radius:10px;padding:10px;width:80px}.saveBtn[_ngcontent-%COMP%]{padding:10px;width:80px;border-radius:10px}@media (max-width: 768px){.d-flex[_ngcontent-%COMP%]{display:flex;flex-direction:column}.form-group[_ngcontent-%COMP%]{width:100%}.img-fluid[_ngcontent-%COMP%]{max-width:80%;height:auto;margin:auto auto 5px}}"]})}}return l})()}];let b=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[r.iI.forChild(h),r.iI]})}}return l})(),D=(()=>{class l{static{this.\u0275fac=function(n){return new(n||l)}}static{this.\u0275mod=e.$C({type:l})}static{this.\u0275inj=e.G2t({imports:[p.MD,b,a.YN,a.X1]})}}return l})()}}]);