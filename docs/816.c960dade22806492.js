"use strict";(self.webpackChunkemployeeSystem=self.webpackChunkemployeeSystem||[]).push([[816],{1816:(O,F,i)=>{i.r(F),i.d(F,{AddEmployeeModule:()=>T});var h=i(177),n=i(4341),d=i(303),e=i(6276),v=i(3853);function k(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," First name is required. "),e.k0s())}function C(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," Last name is required. "),e.k0s())}function N(t,m){if(1&t&&(e.j41(0,"small",23),e.EFF(1),e.k0s()),2&t){const o=e.XpG();let r;e.R7$(1),e.SpI(" ",null!=(r=o.employeeForm.get("email"))&&null!=r.errors&&r.errors.required?"Email is required.":"Enter a valid email."," ")}}function j(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," Password is required. "),e.k0s())}function I(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," Address is required. "),e.k0s())}function q(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," City is required. "),e.k0s())}function A(t,m){if(1&t&&(e.j41(0,"small",23),e.EFF(1),e.k0s()),2&t){const o=e.XpG();let r;e.R7$(1),e.SpI(" ",null!=(r=o.employeeForm.get("phone"))&&null!=r.errors&&r.errors.required?"Phone is required.":"Enter a valid phone number."," ")}}function P(t,m){if(1&t&&(e.j41(0,"small",23),e.EFF(1),e.k0s()),2&t){const o=e.XpG();let r;e.R7$(1),e.SpI(" ",null!=(r=o.employeeForm.get("age"))&&null!=r.errors&&r.errors.required?"Age is required.":"Must be at least 18."," ")}}function w(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," Department is required. "),e.k0s())}function G(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," Title is required. "),e.k0s())}function M(t,m){1&t&&(e.j41(0,"small",23),e.EFF(1," Profile image is required. "),e.k0s())}function R(t,m){if(1&t&&(e.j41(0,"div",24),e.nrm(1,"img",25),e.k0s()),2&t){const o=e.XpG();e.R7$(1),e.Y8G("src",o.imagePreview,e.B4B)}}const $=[{path:"",component:(()=>{class t{constructor(o,r,l){this.fb=o,this.employeesService=r,this.router=l,this.submitted=!1,this.selectedImage=null,this.imagePreview=null,this.employeeForm=this.fb.group({firstName:["",n.k0.required],lastName:["",n.k0.required],email:["",[n.k0.required,n.k0.email]],password:["",n.k0.required],address:["",n.k0.required],city:["",n.k0.required],phone:["",[n.k0.required,n.k0.pattern("^[0-9]{10,15}$")]],age:["",[n.k0.required,n.k0.min(18)]],department:["",n.k0.required],title:["",n.k0.required],image:[null,n.k0.required]})}ngOnInit(){}onImageSelected(o){const r=o.target.files?.[0];if(r){this.selectedImage=r,this.employeeForm.patchValue({image:r}),this.employeeForm.get("image")?.updateValueAndValidity();const l=new FileReader;l.onload=()=>{this.imagePreview=l.result},l.readAsDataURL(r)}}onSubmit(){if(this.submitted=!0,this.employeeForm.invalid)return;const o=new FormData;o.append("firstName",this.employeeForm.value.firstName),o.append("lastName",this.employeeForm.value.lastName),o.append("email",this.employeeForm.value.email),o.append("password",this.employeeForm.value.password),o.append("phone",this.employeeForm.value.phone),o.append("age",this.employeeForm.value.age.toString()),o.append("address",this.employeeForm.value.address),o.append("city",this.employeeForm.value.city),o.append("department",this.employeeForm.value.department),o.append("title",this.employeeForm.value.title),this.selectedImage&&o.append("image",this.selectedImage),this.employeesService.addEmployee(o).subscribe({next:()=>this.router.navigate(["/employees"]),error:r=>{console.error("Error adding employee:",r),alert("Failed to add employee. Please try again.")}})}static{this.\u0275fac=function(r){return new(r||t)(e.rXU(n.ok),e.rXU(v.r),e.rXU(d.Ix))}}static{this.\u0275cmp=e.VBU({type:t,selectors:[["app-add-employee"]],decls:71,vars:13,consts:[[1,"container","mt-5"],[1,"card","shadow-lg"],[1,"card-header","text-white","text-center"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"row"],[1,"col-md-6","mb-3"],["formControlName","firstName",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","lastName",1,"form-control"],["type","email","formControlName","email",1,"form-control"],["type","password","formControlName","password",1,"form-control"],["formControlName","address",1,"form-control"],["formControlName","city",1,"form-control"],["formControlName","phone",1,"form-control"],["type","number","formControlName","age",1,"form-control"],["formControlName","department",1,"form-control"],["formControlName","title",1,"form-control"],[1,"mb-3"],["type","file",1,"form-control",3,"change"],["class","mb-3 text-center",4,"ngIf"],[1,"text-center","mt-4"],["type","submit",1,"btn","btn-success","px-5","py-2"],[1,"text-danger"],[1,"mb-3","text-center"],["width","150","alt","Preview",1,"img-thumbnail",3,"src"]],template:function(r,l){if(1&r&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3"),e.EFF(4,"Add New Employee"),e.k0s()(),e.j41(5,"div",3)(6,"form",4),e.bIt("ngSubmit",function(){return l.onSubmit()}),e.j41(7,"div",5)(8,"div",6)(9,"label"),e.EFF(10,"First Name"),e.k0s(),e.nrm(11,"input",7),e.DNE(12,k,2,0,"small",8),e.k0s(),e.j41(13,"div",6)(14,"label"),e.EFF(15,"Last Name"),e.k0s(),e.nrm(16,"input",9),e.DNE(17,C,2,0,"small",8),e.k0s()(),e.j41(18,"div",5)(19,"div",6)(20,"label"),e.EFF(21,"Email"),e.k0s(),e.nrm(22,"input",10),e.DNE(23,N,2,1,"small",8),e.k0s(),e.j41(24,"div",6)(25,"label"),e.EFF(26,"Password"),e.k0s(),e.nrm(27,"input",11),e.DNE(28,j,2,0,"small",8),e.k0s()(),e.j41(29,"div",5)(30,"div",6)(31,"label"),e.EFF(32,"Address"),e.k0s(),e.nrm(33,"input",12),e.DNE(34,I,2,0,"small",8),e.k0s(),e.j41(35,"div",6)(36,"label"),e.EFF(37,"City"),e.k0s(),e.nrm(38,"input",13),e.DNE(39,q,2,0,"small",8),e.k0s()(),e.j41(40,"div",5)(41,"div",6)(42,"label"),e.EFF(43,"Phone Number"),e.k0s(),e.nrm(44,"input",14),e.DNE(45,A,2,1,"small",8),e.k0s(),e.j41(46,"div",6)(47,"label"),e.EFF(48,"Age"),e.k0s(),e.nrm(49,"input",15),e.DNE(50,P,2,1,"small",8),e.k0s()(),e.j41(51,"div",5)(52,"div",6)(53,"label"),e.EFF(54,"Department"),e.k0s(),e.nrm(55,"input",16),e.DNE(56,w,2,0,"small",8),e.k0s(),e.j41(57,"div",6)(58,"label"),e.EFF(59,"Title"),e.k0s(),e.nrm(60,"input",17),e.DNE(61,G,2,0,"small",8),e.k0s()(),e.j41(62,"div",18)(63,"label"),e.EFF(64,"Upload Profile Image"),e.k0s(),e.j41(65,"input",19),e.bIt("change",function(a){return l.onImageSelected(a)}),e.k0s(),e.DNE(66,M,2,0,"small",8),e.k0s(),e.DNE(67,R,2,1,"div",20),e.j41(68,"div",21)(69,"button",22),e.EFF(70," Add Employee "),e.k0s()()()()()()),2&r){let s,a,b,p,u,c,E,_,f,g,y;e.R7$(6),e.Y8G("formGroup",l.employeeForm),e.R7$(6),e.Y8G("ngIf",l.submitted&&(null==(s=l.employeeForm.get("firstName"))||null==s.errors?null:s.errors.required)),e.R7$(5),e.Y8G("ngIf",l.submitted&&(null==(a=l.employeeForm.get("lastName"))||null==a.errors?null:a.errors.required)),e.R7$(6),e.Y8G("ngIf",l.submitted&&(null==(b=l.employeeForm.get("email"))?null:b.errors)),e.R7$(5),e.Y8G("ngIf",l.submitted&&(null==(p=l.employeeForm.get("password"))||null==p.errors?null:p.errors.required)),e.R7$(6),e.Y8G("ngIf",l.submitted&&(null==(u=l.employeeForm.get("address"))||null==u.errors?null:u.errors.required)),e.R7$(5),e.Y8G("ngIf",l.submitted&&(null==(c=l.employeeForm.get("city"))||null==c.errors?null:c.errors.required)),e.R7$(6),e.Y8G("ngIf",l.submitted&&(null==(E=l.employeeForm.get("phone"))?null:E.errors)),e.R7$(5),e.Y8G("ngIf",l.submitted&&(null==(_=l.employeeForm.get("age"))?null:_.errors)),e.R7$(6),e.Y8G("ngIf",l.submitted&&(null==(f=l.employeeForm.get("department"))||null==f.errors?null:f.errors.required)),e.R7$(5),e.Y8G("ngIf",l.submitted&&(null==(g=l.employeeForm.get("title"))||null==g.errors?null:g.errors.required)),e.R7$(5),e.Y8G("ngIf",l.submitted&&(null==(y=l.employeeForm.get("image"))||null==y.errors?null:y.errors.required)),e.R7$(1),e.Y8G("ngIf",l.imagePreview)}},dependencies:[h.bT,n.qT,n.me,n.Q0,n.BC,n.cb,n.j4,n.JD],styles:[".form-group[_ngcontent-%COMP%]{width:45%}h2[_ngcontent-%COMP%]{margin:auto}.d-flex[_ngcontent-%COMP%]{margin:1em 0}.editBtn[_ngcontent-%COMP%]{background-color:#f28c38;border:none;outline:none;color:#fff;border-radius:10px;padding:10px;width:80px}.saveBtn[_ngcontent-%COMP%]{padding:10px;width:80px;border-radius:10px}.container[_ngcontent-%COMP%]{max-width:800px}.card[_ngcontent-%COMP%]{border:none;border-radius:10px;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:1.5rem;background-color:#f28c38}.form-control[_ngcontent-%COMP%]{border-radius:5px;padding:.75rem}.btn-primary[_ngcontent-%COMP%]{padding:.75rem 2rem;border-radius:5px;transition:background-color .3s}.btn-primary[_ngcontent-%COMP%]:hover{background-color:#0056b3}.image-upload-wrapper[_ngcontent-%COMP%]{position:relative;display:inline-block}.form-control-file[_ngcontent-%COMP%]{display:none}.invalid-feedback[_ngcontent-%COMP%]{font-size:.875rem}.card[_ngcontent-%COMP%]{margin-bottom:5em}@media (max-width: 576px){.card[_ngcontent-%COMP%]{margin:0 15px}}"]})}}return t})()}];let D=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[d.iI.forChild($),d.iI]})}}return t})(),T=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=e.$C({type:t})}static{this.\u0275inj=e.G2t({imports:[h.MD,D,n.X1]})}}return t})()}}]);